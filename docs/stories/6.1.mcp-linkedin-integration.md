# Story 6.1: mcp-linkedin MCP Server Integration

## Status

**Draft**

## Story

**As a** user,
**I want** mcp-linkedin MCP server integrated for LinkedIn access,
**so that** I can match lab members to LinkedIn profiles efficiently.

## Acceptance Criteria

1. mcp-linkedin MCP server configured and connected (from Story 1.5)
2. LinkedIn authentication managed by MCP server (not application code)
3. Search people and get profile tools available
4. Session managed by MCP server automatically
5. Graceful handling if MCP server unavailable
6. Rate limiting managed by MCP server internally
7. Progress tracking for LinkedIn operations

## Tasks / Subtasks

- [ ] **Task 1: Verify mcp-linkedin MCP Server Setup** (AC: 1, 2)
  - [ ] Confirm mcp-linkedin installed (from Story 1.5)
  - [ ] Verify LinkedIn credentials configured in MCP server
  - [ ] Test connectivity to MCP server
  - [ ] Log: "mcp-linkedin connected successfully"

- [ ] **Task 2: Create LinkedIn Agent** (AC: 3)
  - [ ] Create `src/agents/linkedin_matcher.py`
  - [ ] Use mcp_client.py from Story 1.5
  - [ ] Implement:
    - `search_linkedin_profile(name, university)`
    - `get_profile_details(profile_url)`

- [ ] **Task 3: Implement LinkedIn Profile Search** (AC: 3)
  - [ ] Use mcp-linkedin `search_people` tool
  - [ ] Search by name + university filters
  - [ ] Return candidate profiles

- [ ] **Task 4: Handle MCP Server Unavailability** (AC: 5)
  - [ ] Catch MCP connection errors
  - [ ] Flag labs with "linkedin_unavailable"
  - [ ] Continue processing without LinkedIn data
  - [ ] Log: "LinkedIn matching skipped - MCP server unavailable"

- [ ] **Task 5: Integrate Progress Tracking** (AC: 7)
  - [ ] Display: "Phase 5: LinkedIn Matching [X/Y members]"

## Dev Notes

### Source Tree Location
- Create: `src/agents/linkedin_matcher.py`
- Use: `src/utils/mcp_client.py` (from Story 1.5)

**Architecture Note:** Uses mcp-linkedin MCP server (NOT Playwright queue). The MCP server handles:
- LinkedIn authentication
- Session management
- Rate limiting
- Credential storage

**MCP Usage Pattern:**
```python
from src.utils.mcp_client import search_linkedin_profile

profiles = await search_linkedin_profile(
    name=member.name,
    university=university_name
)
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-06 | 0.1 | Initial story creation | Sarah (PO) |
