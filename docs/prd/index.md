# Lab Finder Product Requirements Document (PRD)

## Table of Contents

- [Lab Finder Product Requirements Document (PRD)](#table-of-contents)
  - [Goals and Background Context](./goals-and-background-context.md)
    - [Goals](./goals-and-background-context.md#goals)
    - [Background Context](./goals-and-background-context.md#background-context)
    - [Change Log](./goals-and-background-context.md#change-log)
  - [Requirements](./requirements.md)
    - [Functional Requirements](./requirements.md#functional-requirements)
      - [Phase 0: Validation & Setup](./requirements.md#phase-0-validation-setup)
      - [Phase 1: University Structure Discovery](./requirements.md#phase-1-university-structure-discovery)
      - [Phase 2: Professor Discovery & Filtering](./requirements.md#phase-2-professor-discovery-filtering)
      - [Phase 3: Lab Research & Data Collection](./requirements.md#phase-3-lab-research-data-collection)
      - [Phase 4: Advanced Analysis](./requirements.md#phase-4-advanced-analysis)
      - [Phase 5: Scoring & Output](./requirements.md#phase-5-scoring-output)
    - [Non-Functional Requirements](./requirements.md#non-functional-requirements)
  - [User Interface Design Goals](./user-interface-design-goals.md)
  - [Technical Assumptions](./technical-assumptions.md)
    - [Repository Structure: Monorepo](./technical-assumptions.md#repository-structure-monorepo)
    - [Service Architecture: Monolithic Application with Multi-Agent Orchestration](./technical-assumptions.md#service-architecture-monolithic-application-with-multi-agent-orchestration)
    - [Testing Requirements: Unit + Integration Testing](./technical-assumptions.md#testing-requirements-unit-integration-testing)
    - [Additional Technical Assumptions and Requests](./technical-assumptions.md#additional-technical-assumptions-and-requests)
  - [Epic List](./epic-list.md)
    - [Epic 1: Foundation & Configuration Infrastructure](./epic-list.md#epic-1-foundation-configuration-infrastructure)
    - [Epic 2: University Structure Discovery & Department Filtering](./epic-list.md#epic-2-university-structure-discovery-department-filtering)
    - [Epic 3: Professor Discovery & Filtering](./epic-list.md#epic-3-professor-discovery-filtering)
    - [Epic 4: Lab Website Intelligence & Contact Extraction](./epic-list.md#epic-4-lab-website-intelligence-contact-extraction)
    - [Epic 5A: PI Publication Research (Parallel with Epic 4)](./epic-list.md#epic-5a-pi-publication-research-parallel-with-epic-4)
    - [Epic 5B: Lab Member Publications & Inference](./epic-list.md#epic-5b-lab-member-publications-inference)
    - [Epic 6: LinkedIn Integration & PhD Position Detection](./epic-list.md#epic-6-linkedin-integration-phd-position-detection)
    - [Epic 7: Authorship Analysis & Fitness Scoring](./epic-list.md#epic-7-authorship-analysis-fitness-scoring)
    - [Epic 8: Comprehensive Report Generation](./epic-list.md#epic-8-comprehensive-report-generation)
  - [Epic Details](./epic-details.md)
    - [Epic 1: Foundation & Configuration Infrastructure](./epic-details.md#epic-1-foundation-configuration-infrastructure)
      - [Story 1.1: Project Setup & Dependency Management](./epic-details.md#story-11-project-setup-dependency-management)
      - [Story 1.2: JSON Configuration Schema & Validation](./epic-details.md#story-12-json-configuration-schema-validation)
      - [Story 1.3: Credential Management with CLI Prompts](./epic-details.md#story-13-credential-management-with-cli-prompts)
      - [Story 1.4: Shared Utilities Implementation](./epic-details.md#story-14-shared-utilities-implementation)
      - [Story 1.5: MCP Server Configuration & Testing](./epic-details.md#story-15-mcp-server-configuration-testing)
      - [Story 1.6: Testing Infrastructure Setup](./epic-details.md#story-16-testing-infrastructure-setup)
      - [Story 1.7: User Profile Consolidation](./epic-details.md#story-17-user-profile-consolidation)
    - [Epic 2: University Structure Discovery & Department Filtering](./epic-details.md#epic-2-university-structure-discovery-department-filtering)
      - [Story 2.1: University Website Structure Discovery](./epic-details.md#story-21-university-website-structure-discovery)
      - [Story 2.2: Department Structure JSON Representation](./epic-details.md#story-22-department-structure-json-representation)
      - [Story 2.3: Department Relevance Filtering](./epic-details.md#story-23-department-relevance-filtering)
      - [Story 2.4: Error Handling for Missing Structure Data](./epic-details.md#story-24-error-handling-for-missing-structure-data)
      - [Story 2.5: Batch Configuration for Department Processing](./epic-details.md#story-25-batch-configuration-for-department-processing)
    - [Epic 3: Professor Discovery & Filtering](./epic-details.md#epic-3-professor-discovery-filtering)
      - [Story 3.1: Multi-Agent Professor Discovery](./epic-details.md#story-31-multi-agent-professor-discovery)
      - [Story 3.2: LLM-Based Professor Research Field Filtering](./epic-details.md#story-32-llm-based-professor-research-field-filtering)
      - [Story 3.3: Confidence Scoring for Filtering Decisions](./epic-details.md#story-33-confidence-scoring-for-filtering-decisions)
      - [Story 3.4: Filtered Professor Logging & Transparency](./epic-details.md#story-34-filtered-professor-logging-transparency)
      - [Story 3.5: Batch Processing for Professor Analysis](./epic-details.md#story-35-batch-processing-for-professor-analysis)
    - [Epic 4: Lab Website Intelligence & Contact Extraction](./epic-details.md#epic-4-lab-website-intelligence-contact-extraction)
      - [Story 4.1: Lab Website Discovery & Scraping](./epic-details.md#story-41-lab-website-discovery-scraping)
      - [Story 4.2: Archive.org Integration for Website History](./epic-details.md#story-42-archiveorg-integration-for-website-history)
      - [Story 4.3: Contact Information Extraction](./epic-details.md#story-43-contact-information-extraction)
      - [Story 4.4: Graceful Handling of Missing/Stale Websites](./epic-details.md#story-44-graceful-handling-of-missingstale-websites)
      - [Story 4.5: Web Scraping Error Handling & Retry Logic](./epic-details.md#story-45-web-scraping-error-handling-retry-logic)
    - [Epic 5A: PI Publication Research (Parallel with Epic 4)](./epic-details.md#epic-5a-pi-publication-research-parallel-with-epic-4)
      - [Story 5.1: MCP Integration for Publication Retrieval](./epic-details.md#story-51-mcp-integration-for-publication-retrieval)
      - [Story 5.2: Abstract & Acknowledgment Analysis](./epic-details.md#story-52-abstract-acknowledgment-analysis)
      - [Story 5.3: Journal Reputation Weighting](./epic-details.md#story-53-journal-reputation-weighting)
    - [Epic 5B: Lab Member Publications & Inference](./epic-details.md#epic-5b-lab-member-publications-inference)
      - [Story 5.4: Lab Member Publication Discovery](./epic-details.md#story-54-lab-member-publication-discovery)
      - [Story 5.5: Lab Member Inference from Co-Authorship](./epic-details.md#story-55-lab-member-inference-from-co-authorship)
    - [Epic 6: LinkedIn Integration & PhD Position Detection](./epic-details.md#epic-6-linkedin-integration-phd-position-detection)
      - [Story 6.1: mcp-linkedin MCP Server Integration](./epic-details.md#story-61-mcp-linkedin-mcp-server-integration)
      - [~~Story 6.2: Subagent Queue for LinkedIn Access~~ [REMOVED - SDK handles this]](./epic-details.md#story-62-subagent-queue-for-linkedin-access-removed-sdk-handles-this)
      - [Story 6.2: LinkedIn Profile Matching with Confidence Scores (formerly 6.3)](./epic-details.md#story-62-linkedin-profile-matching-with-confidence-scores-formerly-63)
      - [Story 6.3: PhD Graduation & Departure Detection (formerly 6.4)](./epic-details.md#story-63-phd-graduation-departure-detection-formerly-64)
      - [~~Story 6.5: LinkedIn Error Handling & Logging~~ [REMOVED - merged into 6.1]](./epic-details.md#story-65-linkedin-error-handling-logging-removed-merged-into-61)
    - [Epic 7: Authorship Analysis & Fitness Scoring](./epic-details.md#epic-7-authorship-analysis-fitness-scoring)
      - [Story 7.1: Authorship Pattern Analysis](./epic-details.md#story-71-authorship-pattern-analysis)
      - [Story 7.2: Core vs. Collaborator Assessment](./epic-details.md#story-72-core-vs-collaborator-assessment)
      - [Story 7.3: Collaboration Network Identification](./epic-details.md#story-73-collaboration-network-identification)
      - [Story 7.4: LLM-Driven Fitness Scoring Criteria](./epic-details.md#story-74-llm-driven-fitness-scoring-criteria)
      - [Story 7.5: Multi-Factor Fitness Scoring Execution](./epic-details.md#story-75-multi-factor-fitness-scoring-execution)
    - [Epic 8: Comprehensive Report Generation](./epic-details.md#epic-8-comprehensive-report-generation)
      - [Story 8.1: Overview Report with Ranked Labs](./epic-details.md#story-81-overview-report-with-ranked-labs)
      - [Story 8.2: Comparison Matrix for Top Labs](./epic-details.md#story-82-comparison-matrix-for-top-labs)
      - [Story 8.3: Actionable Next Steps & Priority Recommendations](./epic-details.md#story-83-actionable-next-steps-priority-recommendations)
      - [Story 8.4: Detailed Individual Lab Reports](./epic-details.md#story-84-detailed-individual-lab-reports)
      - [Story 8.5: Data Quality Issue Flagging](./epic-details.md#story-85-data-quality-issue-flagging)
  - [Out of Scope](./out-of-scope.md)
    - [Multi-University Support](./out-of-scope.md#multi-university-support)
    - [Automation & Monitoring](./out-of-scope.md#automation-monitoring)
    - [Machine Learning & Personalization](./out-of-scope.md#machine-learning-personalization)
    - [User Interface](./out-of-scope.md#user-interface)
    - [Collaborative Features](./out-of-scope.md#collaborative-features)
    - [Integration Features](./out-of-scope.md#integration-features)
    - [Advanced Data Collection](./out-of-scope.md#advanced-data-collection)
  - [Future Enhancements](./future-enhancements.md)
    - [V2.0 Potential Features](./future-enhancements.md#v20-potential-features)
    - [Implementation Priority](./future-enhancements.md#implementation-priority)
  - [Checklist Results Report](./checklist-results-report.md)
    - [Executive Summary](./checklist-results-report.md#executive-summary)
    - [Category Analysis](./checklist-results-report.md#category-analysis)
    - [Key Findings](./checklist-results-report.md#key-findings)
    - [Final Decision](./checklist-results-report.md#final-decision)
  - [Next Steps](./next-steps.md)
    - [UX Expert Prompt](./next-steps.md#ux-expert-prompt)
    - [Architect Prompt](./next-steps.md#architect-prompt)
